# 리액트로 재구축한 KALL 프로젝트 클라이언트 사이드
이전에 만들었던 2차 프로젝트를 3차 프로젝트에 돌입하면서 리액트로 변경. 모든 페이지를 리액트화함으로써 일관성 있는 데이터 관리 가능.

## 사용된 라이브러리
- 리액트(react) (가장 기본이 되는 라이브러리.)
- 리액트 라우터(react-router) (리액트를 이용해 여러 페이지를 연결하는 것을 가능하게 해주는 라이브러리)

- 리액트 쿼리(react-query) (리액트 환경에서 서버사이드의 데이터를 관리할 수 있게 해주는 라이브러리)
- 액시오스(axios) (리액트 쿼리와 함께 사용하는 프론트, 백엔드 통신 라이브러리)
- 리액트 쿠키(react-cookies) (리액트에서 쿠키를 관리할 수 있게 해주는 라이브러리)

- Emotion (스타일드 컴포넌트와 같은 CSS in JS 라이브러리)
- TailwindCSS (역시 CSS 라이브러리로 클래스 이름을 이용해 디자인을 할 수 있게 해주는 녀석)
- Twin.macro (위 두가지를 합쳐서 자유롭고 편하게 스타일링을 할 수 있게 해줌)

- 카카오 맵 API (찾아오시는 길 페이지에서 지도가 필요하기에 도입)
- 카카오 주소 API (회원 가입이나 주문 페이지에서 주소를 사용할 수 있어야하므로 도입)

## 백엔드
- 스프링 부트 사용 예정
- 데이터베이스는 Mysql을 사용
- Mybatis를 사용하는 것으로 편리한 쿼리 관리 가능

## API 관련사항
- 홈페이지:
  - [GET /products/recent] 필요.
  - 최근에 등록된 데이터순으로 6개 데이터.

- 로그인 페이지:
  - [POST /users/login, {로그인 데이터}] 필요.
  - 서버상에서 인증을 한 후 유저 데이터를 반환해주면 프론트에서 이를 처리.

- 회원가입 페이지:
  - [POST /users, {신규 유저 데이터}] 필요.
  - 새로운 유저 데이터를 추가함.

- 아이디 찾기 페이지:
  - 아이디 찾기의 경우 이메일로 찾을 것인지 핸드폰 번호로 찾을 것인지에 따라 요청이 달라짐.
  - [POST /users/find?type=email, {이름과 이메일}]
  - [POST /users/find?type=phone, {이름과 핸드폰 번호}]
  - 이를 대조하고 일치하는 게 있을 경우 아이디를 던져줌.

- 비밀번호 찾기 페이지:
  - 1차적으로 [GET /users/{id}] 필요. 아이디를 요청에 보내면 유저 데이터를 응답받음.
  - 2차적으로 [PUT /users/{id}] 필요. 해당 아이디를 가진 레코드의 비밀번호를 수정하기 위함.

- 상품 리스트:
  - 세가지의 상품 리스트에 대응하는 api 필요.
  - [GET /products/custom] 주문제작 리스트에 필요.
  - [GET /products/design] 디자인 리스트에 필요.
  - [GET /products/etc] 기타 물품 리스트에 필요.

- 상품 상세 페이지:
  - 카테고리에 상관 없이 개별 상품 아이디로 접근하는 api 필요.
  - [GET /products/{id}] 개별 상품 데이터를 응답함
  - [GET /products?category_id={cagetory}] 카테고리별로 상품 다섯개를 추천하는 리스트를 응답함.
  - 1 >> id를 json에 담아서 요청하면 그 id를 받아서 상품 데이터를 얻고 보내줌.
  - 2 >> 상품 데이터 안에 있는 카테고리 정보를 통해서 카테고리 별 상품 다섯개를 보내줌.

- 장바구니:
  - 유저가 담아놓은 상품들을 불러와야 함. 프론트에서 유저 아이디를 넘겨주면 카트에서 유저 아이디를 탐색하여 데이터를 응답해줌.
  - [GET /cart?user_id={id}] 같은 엔드포인트 필요

- 주문 / 결제:
  - 주문하기를 클릭하면 선택한 상품을 로컬 스토리지에 임시로 담아서 리스팅하고 결제가 완료 되면 그때 데이터를 백엔드로 넘겨줌.
  - [POST /orders, {주문 데이터}] 엔드포인트로 order 테이블에 레코드를 추가하면 백엔드에서는 이 아이디를 반환해줌.
  - [POST /order_details] 엔드포인트로 order의 아이디를 통해 order_detail 테이블에 레코드를 추가할 수 있도록 주문한 상품 데이터를 전달해줌.

- 주문 완료 페이지:
  - 생성했던 order 테이블의 레코드와 order_detail 테이블의 레코드를 가져와서 최종적으로 보여주는 화면. 사용자(user)의 데이터를 요청하는 것 외에는 다른 요청은 필요 없을 것으로 예상.

- 커뮤니티 게시판들:
  - 공지사항, 자주 묻는 질문, 이용 가이드 등은 같은 템플릿을 공유할 수 있어보임.
  - 이 중 자주 묻는 질문이나 이용 가이드는 하나로 합쳐도 될 것으로 보임.
  - (공지냐 아니냐를 구분하는 것이라면 그것 밖에 불가능함.)
  - [GET /notices] 엔드포인트로 모든 글을 긁어오고 카테고리에 따라 나눠서 정렬.

- 1:1 문의:
  - 문의 같은 경우 로그인된 상태에서만 가능해야하며 로그인 되지 않은 상태에서는 접근이 불가능하도록 링크를 막아야 함. 작성이 완료되면 서버로 데이터를 보냄.
  - [POST /requests, {문의 데이터}] 엔드포인트로 데이터를 보냄. 성공하면 ok 등의 메시지를 리턴해줌. 리턴받으면 문의완료 틍의 페이지로 넘어가거나 모달을 띄워서 작성한 내용을 확인하게 한 후 메인 페이지로 돌아가게 함.

- 리뷰:
  - 각 상품에 적힌 리뷰들을 한 번에 모아서 볼 수 있는 페이지
  - [GET /reviews] 엔드포인트로 모든 리뷰글을 가져옴.
  - [GET /reviews/{id}] 로는 개별 리뷰글을 가져옴.
  - 그 외에도 리뷰를 작성한 유저 정보와 주문 정보, 상품 정보를 함께 가져옴.

- 마이페이지 - 메인:
  - [GET /users/{id}] 개인정보를 불러오는 페이지이므로 유저 정보를 가져옴.
  - [GET /address?userId={id}] 유저의 주소 정보가 필요함.
  - [GET /orders?userId={id}] 그리고 그 유저의 주문 개수가 필요함.

- 마이페이지 - 개인정보 수정:
  - [POST /users/passwordcheck, {비밀번호}] 개인정보를 수정하기 전 비밀번호를 입력받을 때 서버로 비밀번호를 전송함. 서버에서는 받은 비밀번호를 데이터베이스에 저장된 유저의 비밀번호와 일치하는지 확인후 true 혹은 false를 반환
  - [GET /users/{id}] 개인정보를 불러와서 input에 미리 넣어두어야 함.

- 회원탈퇴:
  - [POST /withdrawal, {데이터}] 프론트에서 데이터를 담아 보내면 us_del 테이블에 쌓임. 해당 요청의 컨트롤러에서는 프론트에서 넘어온 데이터에 있는 user_id를 가진 user를 찾아서 status를 '탈퇴'로 변경함.

- 마이페이지 - 비밀번호 변경:
  - [POST /users/passwordcheck, {비밀번호}] 개인정보를 수정하기 전 비밀번호를 입력받을 때 서버로 비밀번호를 전송함. 서버에서는 받은 비밀번호를 데이터베이스에 저장된 유저의 비밀번호와 일치하는지 확인후 true 혹은 false를 반환.
  - [PUT /users/{id}, {새로운 비밀번호 데이터}] 비밀번호를 보내면 백엔드에서 암호화해서 데이터를 새로 교체해서 저장. 저장 후에는 프론트로 ok 같은 사인을 보내줌.

## 코멘트
현재의 프론트는 서버가 제대로 된 구실을 갖추기 전까지는 임시 데이터를 사용하는 것으로 개발을 진행할 것임을 알림.

### 완료된 페이지
- [x] 홈페이지
- [x] 404 에러 페이지
- [x] 로그인 - 각 인풋에 에러처리 할 예정
- [x] 회원가입 - 마찬가지로 에러처리 예정
- [x] 아이디 찾기
- [x] 비밀번호 찾기
- [x] 상품 리스트
- [x] 상품 상세 페이지 - 상품 문의나 상품 후기는 추후에
- [x] 개인정보 처리방침
- [x] 이용약관
- [x] 장바구니
  - [x] 주문 / 결제
  - [x] 주문 완료
- [x] 커뮤니티
  - [x] 이용 가이드
  - [x] 공지사항
  - [x] 자주 묻는 질문
  - [x] 찾아오시는 길
  - [x] 리뷰
  - [x] 1:1 문의
  - [x] 공지사항 글 페이지
  - [x] 리뷰 글 페이지

### 예정 페이지
- [ ] 로그아웃
- [ ] 검색 결과 페이지
- [ ] 마이페이지
  - [x] 마이페이지 메인
  - [x] 개인정보 수정
  - [x] 회원 탈퇴
  - [x] 비밀번호 변경
  - [ ] 주소 관리 - 진행중
  - [ ] 마일리지 내역
  - [ ] 주문 내역
  - [ ] 배송 내역
  - [ ] 리뷰 목록
  - [ ] 문의 목록
  - [ ] 찜 목록
- [ ] 관리자 페이지 (가장 중요)
  - [x] 회원 정보 관리 - 회원 목록 가져오기, 선택 삭제, 전체 삭제, 수정
  - [ ] 상품 정보 관리
  - [ ] 리뷰 관리
  - [ ] 공지 관리
  - [ ] 문의 관리
  - [ ] 더 있는데 뭐였지

### 체크사항
- 필수 인풋들에 마터 달아주기
- 여러 인풋 유효성검사 하기
- 취소 버튼들 기능 처리
